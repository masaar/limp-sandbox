<h1>Dynamic API</h1>
<button (click)="auth()">auth()</button>
<button (click)="checkAuth()">checkAuth()</button>
<button (click)="addFormAttr()">addFormAttr()</button>
<button (click)="delFormAttr()">delFormAttr()</button>
<button (click)="generateForm()">generateForm()</button>
<ng-container *ngIf="guardOn == false">
	<button (click)="call()">call()</button>
	<button (click)="signout()">signout()</button>
</ng-container>

<h2>Form Attrs</h2>
<ol>
	<li *ngFor="let attr of attrs">{{attr | json}}</li>
</ol>
<hr>
<h2>Form</h2>
<form #formView [formGroup]="form" (submit)="submitForm()" ngNativeValidate>
	<div *ngFor="let attr of attrs" class="form-group row">
		<label class="col-sm-2 col-form-label">{{attr[0]}}</label>
		<div *ngIf="formReady && attr[1] == 'text'" class="col-sm-10">
			<input type="text" [formControlName]="attr[0]" class="form-control" required>
		</div>

		<div *ngIf="formReady && attr[1] == 'longtext'" class="col-sm-10">
			<textarea type="text" [formControlName]="attr[0]" class="form-control" required>{{form.get(attr[0]).value}}</textarea>
		</div>

		<div *ngIf="formReady && attr[1] == 'password'" class="col-sm-10">
			<input type="password" [formControlName]="attr[0]" class="form-control" required>
		</div>

		<div *ngIf="formReady && attr[1] == 'locale'" class="col-sm-10">
			<input type="text" formControlName="{{attr[0]}}.ar_AE" class="form-control" placeholder="ar_AE" required>
			<input type="text" formControlName="{{attr[0]}}.en_AE" class="form-control" placeholder="en_AE" required>
		</div>

		<div *ngIf="formReady && attr[1] == 'file'" class="col-sm-10">
			<input [id]="attr[0]" type="file" [formControlName]="attr[0]" class="form-control" required>
		</div>
	</div>

	<button *ngIf="guardOn == false" type="submit">submitForm()</button>
</form>
<hr>
<h2>Output</h2>
<pre style="white-space: pre-line;">
	{{output}}
</pre>

<hr>
<button (click)="sendMsg()">Send Message</button>